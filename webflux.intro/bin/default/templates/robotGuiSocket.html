<!DOCTYPE html>
<html>

<head>
    <title>WebfluxintroGui</title>   
    <link href="/disi.css" rel="stylesheet">
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
    <script src="/app.js"></script>
</head>
<body onload=myIpAndConnect() >
<noscript><h2 style="color: #ff0000">Seems your browser doesn't support Javascript! Websocket relies on Javascript being
    enabled. Please enable
    Javascript and reload this page!</h2></noscript>

<div id="main-content" class="container">
<div class="row">
    
  <h1>Webfluxintro GUI</h1>
 
 	<div> 
		<div id="connect-container" class="ui centered grid">
			<div class="row">
				<button id="connect" onclick="connect();" class="ui green button ">Connect</button>
				<button id="disconnect" disabled="disabled" onclick="disconnect();"
					class="ui red button">Disconnect</button>
			</div>
			<div class="row">
				<textarea id="message" style="width: 350px" class="ui input"
					placeholder="Message to Echo"></textarea>
			</div>
			<div class="row">
				<button id="echo" onclick="echo();" disabled="disabled"
					class="ui button">Echo message</button>
			</div>
		</div>
		<div id="console-container">
			<h3>Logging</h3>
			<div id="logging"></div>
		</div>
	</div>
 
  	<p>
 	The server works on <em><span id="myIp"></span></em> using WebFlux and Web Socket.<br/> 	
	</p>
<h4>Message area</h4>	
	    <span th:text="${show}"></span><p id="applmsgs">...</p>
	
<h3>Show Resource request (socket <tt>/showresource</tt>)</h3>   
<m><k>Browser</k>: executes <ks>stompClient.send("/app/showresource" ...</ks><br/>
<k>Server</k>: sends on the WebSocket the message <tt>HELLO</tt></m>
    <form class="form-inline"><button id="showresource" class="btn btn-default" type="submit">show resource</button> 
    (see <a href="explainShowresource.html#reqshowres" target="explain">explain showresource request</a>)</form>
  
 <h3>Resource start an autonomous update  (socket <tt>/startresourceupdating</tt>)</h3>
 <m><k>Browser</k>: executes <ks>tompClient.send("/app/startresourceupdating" ...</ks><br/>
<k>Server</k>: sends on the WebSocket <tt>5</tt> messages: <tt>autonomous_N emits:V</tt> and finally 
 sends the 'answer' <tt>BYE</tt>. </m>
    <form class="form-inline"><button id="resourceupdating" class="btn btn-default" type="submit">start resource updating</button> 
    (see <a href="explainShowresource.html#startresupdating" target="explain">explain start resource updating</a>)</form>

 <h3>Resource start an update flux-based (socket <tt>/resourceflux</tt>)</h3>
<m><k>Browser</k>: executes <ks>stompClient.send("/app/resourceflux" ...</ks><br/>
<k>Server</k>: starts a thread to send on the WebSocket a HOT flux of  messages <tt>HumanGui_N flux-value=V</tt> and then 
sends the 'answer' <tt>SENDING</tt></m>
  
    <form class="form-inline"><button id="resourceflux" class="btn btn-default" type="submit">start resource flux</button> 
    (see <a href="explainShowresource.html#resourceflux" target="explain">explain start resource flux-based</a>)</form>

<h2>A Web Client</h2>
    (see <a href="explainShowresource.html#webclient" target="explain">Explain web client</a>)</form>


<hr/>     
 
 
 
 
</div>



</body>
</html>
